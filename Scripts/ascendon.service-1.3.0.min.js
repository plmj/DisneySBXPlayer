/* CSG International Inc. service library
* Copyright 2015 CSG International Inc.
* All Rights Reserved.
* Last build : 8/14/2015, 3:51:51 PM 
* git revision : 2af0834 */
!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,(b.ascendon||(b.ascendon={})).service=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){(function(c){"use strict";var d="undefined"!=typeof window?window.$:"undefined"!=typeof c?c.$:null,e=a("./events"),f=a("./settings");b.exports=function(a,b,c){if(!f.apiUrl){var g=d.Deferred();return g.reject({Code:0,Message:"Configure was not called, or apiUrl is missing. Skipping "+a.method+".",Severity:4}),e.trigger("failure"),g.promise()}var h;if("subscriber"===a.domain.toLowerCase())h={dataType:"json",type:"POST",url:f.apiUrl+"/"+a.domain+"/"+a.method,headers:{"cd-distributionchannel":f.channelId,"cd-devicetype":f.deviceType,"cd-subscriberid":f.subscriberId,"cd-systemid":f.systemId},data:JSON.stringify(a.data)},b||(h.headers["cd-sessionid"]=f.sessionId),c&&(h.headers["cd-clonesession"]="true");else{var i=f.metadataUrl?f.metadataUrl:f.apiUrl.replace("services","metadata");i=i+"/"+a.method+"/DeviceType/"+f.deviceType+"/DistributionChannel/"+f.channelId+"/SystemId/"+f.systemId+"/Language/"+f.language,a.data&&Object.keys(a.data).forEach(function(b){i+="/"+b+"/"+a.data[b]}),h={dataType:"json",type:"GET",url:i}}var j=d.Deferred();return d.ajax(h).done(function(b,c,d){b&&(b.Fault?(e.trigger("error",[b.Fault]),j.reject(b.Fault,"error",d)):(j.resolve(b,c,d),e.trigger("success."+a.method,b)))}).fail(function(a,b,c){e.trigger("error",c),j.reject(a,b,c)}),j.promise()}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./events":4,"./settings":7}],2:[function(a,b,c){"use strict";var d=a("./subscriber.js"),e=a("./metadata.js"),f=a("./simple.js"),g=a("./settings.js"),h=a("./ajaxWrapper.js"),i=a("./events.js"),j=a("./cache.js");b.exports={subscriber:d,metadata:e,simple:f,settings:g,events:i,ajax:h,cache:j}},{"./ajaxWrapper.js":1,"./cache.js":3,"./events.js":4,"./metadata.js":6,"./settings.js":7,"./simple.js":10,"./subscriber.js":21}],3:[function(a,b,c){(function(a){"use strict";var c="undefined"!=typeof window?window.$:"undefined"!=typeof a?a.$:null;b.exports={items:{},add:function(a,b){return void 0!==b&&void 0!==a?(this.items[a]=b,!0):!1},clearAll:function(){return this.items={},!0},get:function(a){return void 0!==a&&"string"==typeof a?void 0!==this.items[a]?this.items[a]:void 0:!1},getKeys:function(){if(void 0!==this.items){var a=[];return c.each(this.items,function(b){a.push(b)}),void 0!==a&&a.length>0?a:!1}return!1},hasKey:function(a){return void 0!==a&&"string"==typeof a&&void 0!==this.items[a]?!0:!1},multi:function(a,b){if(!(void 0!==b&&void 0!==a&&b.length===a.length&&b.length>0))return!1;for(var c=0,d=b.length;d>c;c+=1){var e=b[c],f=a[c];void 0!==e&&void 0!==f&&this.add(f,e)}},remove:function(a){return void 0!==a?(void 0!==this.items[a]&&delete this.items[a],!0):!1}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],4:[function(a,b,c){(function(a){var c="undefined"!=typeof window?window.$:"undefined"!=typeof a?a.$:null;b.exports=c({})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],5:[function(a,b,c){"use strict";b.exports={resources:{systemError:{Code:-1,Message:"There was a fatal system error."},invalidMediaResponse:{Code:5e5,Message:"Invalid Media metadata response"},invalidViewContentResponse:{Code:500001,Message:"Invalid ViewContent response"},invalidRetrieveStorefrontPageContextResponse:{Code:500002,Message:"Invalid RetrieveStorefrontPageContext response"},invalidStorefrontMetadataResponse:{Code:500003,Message:"Invalid Storefront metadata response"},invalidRetrieveCategoryContextResponse:{Code:500004,Message:"Invalid RetrieveCategoryContext response"},retrieveWalletAndPaymentInstrumentsFailure:{Code:600001,Message:"Could not retrieve Payment Instruments."},subscriberNoCategoriesForContext:{Code:700001,Message:"No categories were returned."},retrieveProductCannotRetrieveContexts:{Code:800001,Message:"Error retrieving contexts for referenced products"},redeemCouponOrderablePricingPlansNotFound:{Code:900001,Message:"No Orderable Pricing Plans for Coupon"},redeemCouponProductsForCouponNotFound:{Code:900002,Message:"No Products for Coupon"}},getFault:function(a){if(void 0!==a&&"string"==typeof a){if(this.resources[a]&&void 0!==this.resources[a]){var b=this.resources[a];return b.Severity=4,b}return{Code:-1,Message:"The fault resource key is invalid.",Severity:4}}return{Code:-1,Message:"A fault resource key is required.",Severity:4}}}},{}],6:[function(a,b,c){"use strict";var d=a("./ajaxWrapper.js");b.exports={domain:"Metadata",categories:function(a){var b={method:"Categories",domain:this.domain,data:a};return d(b)},channels:function(){var a={method:"Channels",domain:this.domain};return d(a)},codes:function(a){var b={method:"Codes",domain:this.domain,data:{Type:a}};return d(b)},coupons:function(a){var b={method:"Coupons",domain:this.domain,data:a};return d(b)},discretionaryDiscounts:function(a){var b={method:"DiscretionaryDiscounts",domain:this.domain,data:a};return d(b)},guide:function(a){var b={method:"Guide",domain:this.domain,data:a};return d(b)},media:function(a){var b={method:"Media",domain:this.domain,data:{Id:a||0}};return d(b)},offering:function(a){var b={method:"Offering",domain:this.domain,data:a};return d(b)},peopleForBrowse:function(){var a={method:"PeopleForBrowse",domain:this.domain};return d(a)},person:function(a){var b={method:"Person",domain:this.domain,data:{Id:a||0}};return d(b)},ping:function(){var a={method:"Ping",domain:this.domain};return d(a)},playlist:function(a){var b={method:"Playlist",domain:this.domain,data:a};return d(b)},product:function(a){var b={method:"Product",domain:this.domain,data:a};return d(b)},program:function(a){var b={method:"Program",domain:this.domain,data:{ProgramId:a}};return d(b)},promotion:function(a){var b={method:"Promotion",domain:this.domain,data:a};return d(b)},searchSuggestions:function(a){var b={method:"SearchSuggestions",domain:this.domain,data:a};return d(b)},storefront:function(){var a={method:"Storefront",domain:this.domain};return d(a)},storefrontPage:function(a){var b={method:"StorefrontPage",domain:this.domain,data:a};return d(b)}}},{"./ajaxWrapper.js":1}],7:[function(a,b,c){"use strict";b.exports={systemId:null,channelId:null,apiUrl:null,metadataUrl:null,deviceType:null,language:null,configure:function(a){this.systemId=a.systemId,this.channelId=a.channelId,this.apiUrl=a.apiUrl,this.metadataUrl=a.metadataUrl,this.deviceType=a.deviceType,this.language=a.language}}},{}],8:[function(a,b,c){(function(c){"use strict";var d="undefined"!=typeof window?window.$:"undefined"!=typeof c?c.$:null,e=a("./metadata.js"),f=a("./subscriber.browse.js"),g=a("./utility.js"),h=a("./fault.js");b.exports={domain:"Simple",retrieveStorefrontPageDetails:function(a){var b,c,i,j=d.Deferred(),k=[];return f.retrieveStorefrontPageContext({Id:a.Id,ReturnAvailablePages:a.ReturnAvailablePages}).done(function(a){a&&a.Id?a.QualifiedStorefrontPageIds&&a.QualifiedStorefrontPageIds.length>0?(b=g.retrieveQualifiedStorefrontPageId(a.Id,a.QualifiedStorefrontPageIds),c=a.NonQualifiedProductIds||[],k.push(e.storefrontPage({Id:b})),k.push(f.retrieveCategoryContext()),d.when.apply(null,k).done(function(a,b){if(!a||!a[0]||!a[0].Page)return j.reject(h.resources.invalidStorefrontMetadataResponse),!1;if(!b||!b[0])return j.reject(h.resources.invalidRetrieveCategoryContextResponse),!1;var d={Name:a[0].Page.Name||"",Id:a[0].Page.Id,Buckets:a[0].Page.Buckets||[],FeaturedItems:a[0].Page.FeaturedItems||[]};i=b[0].NonQualifiedCategoryIds||[],i.length>0&&(d.Buckets=g.filterBuckets(d.Buckets,i)),c.length>0&&(d.Buckets=g.filterBucketProducts(d.Buckets,c),d.FeaturedItems.length>0&&(d.FeaturedItems=g.filterFeaturedItems(d.FeaturedItems,c))),j.resolve(d)}).fail(function(a){j.reject(a)})):j.reject(h.resources.noQualifiedStorefrontPagesAvailable):j.reject(h.resources.invalidStorefrontPageContextResponse)}).fail(function(a){j.reject(a)}),j.promise()}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./fault.js":5,"./metadata.js":6,"./subscriber.browse.js":17,"./utility.js":26}],9:[function(a,b,c){(function(c){"use strict";var d="undefined"!=typeof window?window.$:"undefined"!=typeof c?c.$:null,e=a("./metadata.js"),f=a("./subscriber.content.js"),g=a("./fault.js");b.exports={domain:"Simple",retrieveViewingDetails:function(a){var b,c=d.Deferred(),h=[];return f.viewContent(a).done(function(a){a&&a.MediaId?e.media(a.MediaId).done(function(d){if(d&&d.Media){var e=d.Media.ClosedCaptions&&"ClosedCaptionSettings"in d.Media.ClosedCaptions?d.Media.ClosedCaptions.ClosedCaptionSettings:null,f=d.Media.Markers||null;if(e&&e.length>0)for(b=0;b<e.length;b+=1)h.push({language:e[b].Language,url:e[b].Url});else if(f&&f.length>0)for(b=0;b<f.length;b+=1){var i=f[b].ExternalConfiguration;if(i&&4===i.ExternalTypeCode)for(var j in i.Fields){var k=i.Fields[j];21===k.ExternalTypeFieldCode&&h.push({language:"caption_"+String(b+1),url:k.FieldValue})}}var l={AssociatedProductLobDeliveryCapabilityId:d.Media.AssociatedProductLobDeliveryCapabilityId,AvailableMedia:a.AvailableMedia,ChapterAlias:d.Media.ChapterAlias,Chapters:d.Media.Chapters,ClipDurationSeconds:d.Media.ClipDurationSeconds,ClipStartSeconds:d.Media.ClipStartSeconds,ContentUrl:a.ContentUrl,DisplayName:d.Media.DisplayName,DowngradedDueToOutputProtection:a.DowngradedDueToOutputProtection,HasInstream:d.Media.ClosedCaptions?d.Media.ClosedCaptions.HasInstream:null,LicenseRequestToken:a.LicenseRequestToken,Markers:d.Media.Markers,MediaId:d.Media.Id,ProgressSeconds:a.ProgressSeconds,Name:d.Media.Name,PauseForMarker:d.Media.PauseForMarker,SideloadedCaptions:h,ThumbnailUrl:d.Media.ThumbnailUrl,Type:d.Media.Type,UpdatedPolicies:a.UpdatedPolicies,ViewContentReference:a.ViewContentReference};c.resolve(l)}else c.reject(g.resources.invalidMediaResponse)}).fail(function(a){c.reject(a)}):c.reject(g.resources.invalidViewContentResponse)}).fail(function(a){c.reject(a)}),c.promise()}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./fault.js":5,"./metadata.js":6,"./subscriber.content.js":19}],10:[function(a,b,c){"use strict";var d=a("./simple.product.js"),e=a("./simple.browse.js"),f=a("./simple.content.js"),g=a("./simple.metadata.js"),h=a("./simple.payment.js"),i=a("./simple.order.js");b.exports={domain:"Simple",product:d,browse:e,content:f,metadata:g,payment:h,order:i}},{"./simple.browse.js":8,"./simple.content.js":9,"./simple.metadata.js":11,"./simple.order.js":12,"./simple.payment.js":13,"./simple.product.js":14}],11:[function(a,b,c){(function(c){"use strict";var d="undefined"!=typeof window?window.$:"undefined"!=typeof c?c.$:null,e=a("./metadata.js"),f=a("./fault.js");b.exports={domain:"Simple",guidanceRatings:function(){var a=d.Deferred(),b={ratings:[],categories:[]},c=[];return c.push(e.codes(33)),c.push(e.codes(32)),d.when.apply(null,c).done(function(){d.each(arguments,function(a,c){0===a?b.ratings=c[0].Codes:1===a&&(b.categories=c[0].Codes)}),void 0!==b.ratings&&void 0!==b.categories?a.resolve(b):a.reject(f.getFault("systemError"))}).fail(function(){a.reject(f.getFault("systemError"))}),a.promise()}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./fault.js":5,"./metadata.js":6}],12:[function(a,b,c){(function(c){"use strict";function d(a,b){var c=null;if(a&&a.length>0&&b&&b>0)for(var d=0,e=!1;d<a.length&&!e;d+=1)a[d].Id===b&&(c=a[d],e=!0);return c}var e="undefined"!=typeof window?window.$:"undefined"!=typeof c?c.$:null,f=a("./subscriber.order.js"),g=a("./simple.product.js"),h=a("./fault.js");b.exports={domain:"Simple",redeemCoupon:function(a){var b=e.Deferred();return e.when(f.searchProductsByCoupon({PageNumber:1,PageSize:100,RedemptionCode:a.RedemptionCode})).done(function(c){if(void 0!==c&&c.Products.length>0){for(var i=[],j=0,k=c.Products.length;k>j;j+=1){var l=g.retrieveProduct({ProductId:c.Products[j].Id,IncludeContext:!0,IncludeReferencedProductsContexts:!1,RedemptionCodes:[a.RedemptionCode]});l&&void 0!==l&&i.push(l)}i&&void 0!==i?e.when.apply(null,i).done(function(){var c=[];e.each(arguments,function(a,b){var e=b.product,f=b.contexts[0];if(f&&f.OrderablePricingPlans){for(var g,h=!1,i=0;i<f.OrderablePricingPlans.length&&!h;i+=1){var j=d(e.PricingPlans,f.OrderablePricingPlans[i].Id);j&&!j.Shipped&&(!j.Subscription||j.Subscription&&j.SubscriptionPolicy&&!j.SubscriptionPolicy.PaymentInstrumentRequired)&&f.OrderablePricingPlans[i].CouponApplied&&0===f.OrderablePricingPlans[i].DiscountedAmount&&(g=f.OrderablePricingPlans[i].Id,h=!0)}h&&c.push({ProductId:f.ProductId,PricingPlanId:g,Quantity:1})}}),c.length>0?e.when(f.submitOrder({ShoppingCart:{Items:c},RedemptionCodes:[a.RedemptionCode]})).done(function(a){b.resolve(a)}).fail(function(a){b.reject(a)}):b.reject(h.getFault("redeemCouponOrderablePricingPlansNotFound"))}).fail(function(a){b.reject(a)}):b.reject()}else b.reject(h.getFault("redeemCouponProductsForCouponNotFound"))}).fail(function(a){b.reject(a)}),b.promise()}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./fault.js":5,"./simple.product.js":14,"./subscriber.order.js":22}],13:[function(a,b,c){(function(c){"use strict";var d="undefined"!=typeof window?window.$:"undefined"!=typeof c?c.$:null,e=a("./subscriber.payment.js"),f=a("./subscriber.address.js"),g=a("./fault.js");b.exports={domain:"Simple",retrieveExpandedWallet:function(a){var b=d.Deferred(),c={wallet:{}},h=[],i=[];return void 0===a.IncludePaymentInstruments&&(a.IncludePaymentInstruments=!1),void 0===a.IncludeAddresses&&(a.IncludeAddresses=!1),e.retrieveWallet({BrandableCurrency:a.BrandableCurrency,Currency:a.Currency,EnforceSessionCountry:a.EnforceSessionCountry,ReturnAccountBalances:a.ReturnAccountBalances}).done(function(j){if(void 0!==j)if(c.wallet=j,a.IncludePaymentInstruments||a.IncludeAddresses||b.resolve(c),a.IncludePaymentInstruments)if(c.retrievedPaymentInstruments=[],void 0!==j.PaymentInstruments&&j.PaymentInstruments.length>0){for(var k=0,l=j.PaymentInstruments.length;l>k;k+=1)h.push(j.PaymentInstruments[k].Id);if(void 0!==h&&h.length>0){for(var m=0,n=h.length;n>m;m+=1){var o=e.retrievePaymentInstrument({Id:h[m]});o&&void 0!==o&&i.push(o)}i&&void 0!==i?d.when.apply(null,i).done(function(){d.each(arguments,function(a,b){h.length>1?c.retrievedPaymentInstruments.push(b[0].PaymentInstrument):c.retrievedPaymentInstruments.push(b.PaymentInstrument)}),a.IncludeAddresses?(c.addresses=[],f.retrieveAddresses().done(function(a){a&&void 0!==a&&(a.Addresses&&void 0!==a.Addresses&&a.Addresses.length>0&&(c.addresses=a.Addresses),b.resolve(c))}).fail(function(a){b.reject(a)})):b.resolve(c)}).fail(function(){b.reject(g.getFault("retrieveWalletAndPaymentInstrumentsFailure"))}):b.reject(g.getFault("retrieveWalletAndPaymentInstrumentsFailure"))}else b.reject(g.getFault("retrieveWalletAndPaymentInstrumentsFailure"))}else a.IncludeAddresses?(c.addresses=[],f.retrieveAddresses().done(function(a){a&&void 0!==a&&(a.Addresses&&void 0!==a.Addresses&&a.Addresses.length>0&&(c.addresses=a.Addresses),b.resolve(c))}).fail(function(a){b.reject(a)})):b.resolve(c);else a.IncludeAddresses&&(c.addresses=[],f.retrieveAddresses().done(function(a){a&&void 0!==a&&(a.Addresses&&void 0!==a.Addresses&&a.Addresses.length>0&&(c.addresses=a.Addresses),b.resolve(c))}).fail(function(a){b.reject(a)}));else b.reject(g.getFault("systemError"))}).fail(function(){b.reject(g.getFault("systemError"))}),b.promise()}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./fault.js":5,"./subscriber.address.js":16,"./subscriber.payment.js":23}],14:[function(a,b,c){(function(c){"use strict";var d="undefined"!=typeof window?window.$:"undefined"!=typeof c?c.$:null,e=a("./metadata.js"),f=a("./subscriber.order.js"),g=a("./fault.js");b.exports={domain:"Simple",retrieveProduct:function(a){var b=d.Deferred();return void 0===a.IncludeContext&&(a.IncludeContext=!0),void 0===a.IncludeReferencedProductsContexts&&(a.IncludeReferencedProductsContexts=!0),e.product({Id:a.ProductId}).done(function(c){if(a.IncludeContext){var e={ProductId:a.ProductId,IncludeOrderablePricingPlans:!0,IncludeEntitlementContext:!0};if(a.RedemptionCodes&&a.RedemptionCodes.length>0&&(e.RedemptionCodes=a.RedemptionCodes),c&&c.Product&&c.Product.ReferencedProducts&&c.Product.ReferencedProducts.length>50&&a.IncludeReferencedProductsContexts){var h=[],i=[];d.each(c.Product.ReferencedProducts,function(a,b){h.push(b.Key)});for(var j=Math.floor(h.length/50)+(h.length%50===0&&h.length>0?0:1),k=0;j>k;k+=1)j>1&&(e.EpisodicChildProducts=h.slice(50*k,50*k+50)),i.push(f.retrieveProductContext(e));i.length>0?d.when.apply(null,i).done(function(){var e=[];if(i&&1===i.length?e.push(arguments[0]):d.each(arguments,function(a,b){e.push(b[0].ProductContext)}),c&&e.length>0){var f={product:c.Product};a.IncludeContext&&(f.contexts=e),b.resolve(f)}else b.reject(g.getFault("retrieveProductCannotRetrieveContexts"))}).fail(function(a){b.reject(a)}):b.reject(g.getFault("retrieveProductCannotRetrieveContexts"))}else f.retrieveProductContext(e).done(function(a){var d={product:c.Product,contexts:[a.ProductContext]};b.resolve(d)}).fail(function(a){b.reject(a)})}else b.resolve({product:c.Product})}).fail(function(a){b.reject(a)}),b.promise()}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./fault.js":5,"./metadata.js":6,"./subscriber.order.js":22}],15:[function(a,b,c){"use strict";var d=a("./ajaxWrapper.js");b.exports={domain:"Subscriber",activateExternalContent:function(){var a={method:"ActivateExternalContent",domain:this.domain};return d(a)},emailLogin:function(a){var b={method:"EmailLogin",domain:this.domain,data:a};return d(b)},generatePassword:function(a){var b={method:"GeneratePassword",domain:this.domain,data:a};return d(b)},linkNewUvUser:function(a){var b={method:"LinkNewUvUser",domain:this.domain,data:a};return d(b)},linkOAuthClient:function(a){var b={method:"LinkOAuthClient",domain:this.domain,data:a};return d(b)},retrieveSubscriber:function(){var a={method:"RetrieveSubscriber",domain:this.domain};return d(a)},retrieveUvUser:function(){var a={method:"RetrieveUvUser",domain:this.domain};return d(a)},updateCredentials:function(a){var b={method:"UpdateCredentials",domain:this.domain,data:a};return d(b)},validateCredentials:function(a){var b={method:"ValidateCredentials",domain:this.domain,data:a};return d(b)}}},{"./ajaxWrapper.js":1}],16:[function(a,b,c){"use strict";var d=a("./ajaxWrapper.js");b.exports={domain:"Subscriber",retrieveAddresses:function(a){var b={method:"RetrieveAddresses",domain:this.domain,data:a};return d(b)},retrieveAddress:function(a){var b={method:"RetrieveAddress",domain:this.domain,data:a};return d(b)},updateAddress:function(a){var b={method:"UpdateAddress",domain:this.domain,data:a};return d(b)},createAddress:function(a){var b={method:"CreateAddress",domain:this.domain,data:a};return d(b)},removeAddress:function(a){var b={method:"RemoveAddress",domain:this.domain,data:a};return d(b)},validateAddress:function(a){var b={method:"ValidateAddress",domain:this.domain,data:a};return d(b)}}},{"./ajaxWrapper.js":1}],17:[function(a,b,c){"use strict";var d=a("./ajaxWrapper.js");b.exports={domain:"Subscriber",retrieveStorefrontPageContext:function(a){var b={method:"RetrieveStorefrontPageContext",domain:this.domain,data:a};return d(b)},retrieveCategoryContext:function(){var a={method:"RetrieveCategoryContext",domain:this.domain};return d(a)}}},{"./ajaxWrapper.js":1}],18:[function(a,b,c){"use strict";var d=a("./ajaxWrapper.js");b.exports={domain:"Subscriber",searchProductsByChannel:function(a){var b={method:"SearchProductsByChannel",domain:this.domain,data:a};return d(b)},retrieveChannelContext:function(a){var b={method:"RetrieveChannelContext",domain:this.domain,data:a};return d(b)},retrieveProgramContext:function(a){var b={method:"RetrieveProgramContext",domain:this.domain,data:a};return d(b)}}},{"./ajaxWrapper.js":1}],19:[function(a,b,c){"use strict";var d=a("./ajaxWrapper.js"),e={video:0,preview:1,relatedMedia:2};b.exports={domain:"Subscriber",viewContent:function(a){var b=a;a.PreviewId&&(b.ViewContentType=e.preview);var c={method:"ViewContent",data:b,domain:this.domain};return d(c)},viewContentChromecast:function(a){var b=a;a.PreviewId&&(b.ViewContentType=e.preview);var c={method:"ViewContent",data:b,domain:this.domain};return d(c,!1,!0)},updateContentProgress:function(a){var b={method:"UpdateContentProgress",data:a,domain:this.domain};return d(b)},updateMediaRating:function(a){var b={method:"UpdateMediaRating",data:a,domain:this.domain};return d(b)},validateEntitlements:function(a){var b={method:"ValidateEntitlements",data:a,domain:this.domain};return d(b)}}},{"./ajaxWrapper.js":1}],20:[function(a,b,c){"use strict";var d=a("./ajaxWrapper.js");b.exports={domain:"Subscriber",generateDeviceRendezvousCode:function(a){var b={method:"GenerateDeviceRendezvousCode",domain:this.domain,data:a};return d(b)},initiateDeviceLeave:function(a){var b={method:"InitiateDeviceLeave",domain:this.domain,data:a};return d(b)},promoteDeviceSession:function(a){var b={method:"PromoteDeviceSession",domain:this.domain,data:a};return d(b)},registerDevice:function(a){var b={method:"RegisterDevice",domain:this.domain,data:a};return d(b)},retrieveDeviceJoinTrigger:function(a){var b={method:"RetrieveDeviceJoinTrigger",domain:this.domain,data:a};return d(b)},retrieveDevicePinStatus:function(){var a={method:"RetrieveDevicePinStatus",domain:this.domain};return d(a)},retrieveDeviceRendezvousStatus:function(a){var b={method:"RetrieveDeviceRendezvousStatus",domain:this.domain,data:a};return d(b)},retrieveDevices:function(){var a={method:"RetrieveDevices",domain:this.domain};return d(a)},unregisterDevice:function(a){var b={method:"UnregisterDevice",domain:this.domain,data:a};return d(b)},updateDevice:function(a){var b={method:"UpdateDevice",domain:this.domain,data:a};return d(b)},updateDevicePin:function(a){var b={method:"UpdateDevicePin",domain:this.domain,data:a};return d(b)}}},{"./ajaxWrapper.js":1}],21:[function(a,b,c){"use strict";var d=a("./ajaxWrapper.js"),e=a("./settings.js"),f=a("./subscriber.order.js"),g=a("./subscriber.address.js"),h=a("./subscriber.payment.js"),i=a("./subscriber.subscription.js"),j=a("./subscriber.account.js"),k=a("./subscriber.redeem.js"),l=a("./subscriber.device.js"),m=a("./subscriber.content.js"),n=a("./subscriber.browse.js"),o=a("./subscriber.channel.js");b.exports={domain:"Subscriber",address:g,payment:h,order:f,subscription:i,account:j,redeem:k,device:l,content:m,browse:n,channel:o,activateSubscriber:function(a){var b={method:"ActivateSubscriber",domain:this.domain,data:{ActivationKey:a}};return d(b,!1)},searchLocker:function(a){var b={method:"SearchLocker",domain:this.domain,data:a};return d(b,!1)},ping:function(){var a={method:"Ping",domain:this.domain};return d(a,!1)},pingSession:function(){var a={method:"PingSession",domain:this.domain};return d(a,!1)},createSession:function(a){var b={method:"CreateSession",domain:this.domain,data:a};return d(b,!0).done(function(a){a&&(e.sessionId=a.SessionId,a.SessionSummary&&(e.subscriberId=a.SessionSummary.SubscriberId))})},closeSession:function(a){var b={method:"CloseSession",domain:this.domain,data:a};return d(b)},createInteraction:function(a){var b={method:"CreateInteraction",domain:this.domain,data:a};return d(b)},createSubscriber:function(a){var b={method:"CreateSubscriber",domain:this.domain,data:a};return d(b,!0).done(function(b){a.AutoLogin&&b&&(e.sessionId=b.SessionId,b.SessionSummary&&(e.subscriberId=b.SessionSummary.SubscriberId))})},updateExternalAuthorizations:function(a){var b={method:"UpdateExternalAuthorizations",data:a,domain:this.domain};return d(b)},updateFavoriteProducts:function(a){var b={method:"UpdateFavoriteProducts",data:a,domain:this.domain};return d(b)},updateHousehold:function(a){var b={method:"UpdateHousehold",data:a,domain:this.domain};return d(b)},updateHouseholdMembers:function(a){var b={method:"UpdateHouseholdMembers",data:a,domain:this.domain};return d(b)},updatePersonRating:function(a){var b={method:"UpdatePersonRating ",data:a,domain:this.domain};return d(b)},updateProductRating:function(a){var b={method:"UpdateProductRating ",data:a,domain:this.domain};return d(b)},updateQueuedProducts:function(a){var b={method:"UpdateQueuedProducts ",data:a,domain:this.domain};return d(b)},validateUvUser:function(a){var b={method:"ValidateUvUser",data:a,domain:this.domain};return d(b)}}},{"./ajaxWrapper.js":1,"./settings.js":7,"./subscriber.account.js":15,"./subscriber.address.js":16,"./subscriber.browse.js":17,"./subscriber.channel.js":18,"./subscriber.content.js":19,"./subscriber.device.js":20,"./subscriber.order.js":22,"./subscriber.payment.js":23,"./subscriber.redeem.js":24,"./subscriber.subscription.js":25}],22:[function(a,b,c){"use strict";var d=a("./ajaxWrapper.js");b.exports={domain:"Subscriber",calculateModifyOrderQuote:function(a){var b={method:"CalculateModifyOrderQuote",domain:this.domain,data:a};return d(b)},calculateOrderQuote:function(a){var b={method:"CalculateOrderQuote",domain:this.domain,data:a};return d(b)},calculateRemoveOrderQuote:function(a){var b={method:"CalculateRemoveOrderQuote",domain:this.domain,data:a};return d(b)},calculateRenewOrderQuote:function(a){var b={method:"CalculateRenewOrderQuote",domain:this.domain,data:a};return d(b)},cancelOrder:function(a){var b={method:"CancelOrder",domain:this.domain,data:a};return d(b)},createWishlist:function(a){var b={method:"CreateWishlist",domain:this.domain,data:a};return d(b)},previewGiftRedemptionOrder:function(a){var b={method:"PreviewGiftRedemptionOrder",domain:this.domain,data:a};return d(b)},retrieveOrder:function(a){var b={method:"RetrieveOrder",domain:this.domain,data:a};return d(b)},retrieveProductContext:function(a){var b={method:"RetrieveProductContext",domain:this.domain,data:a};return d(b)},retrieveProductRecommendations:function(a){var b={method:"RetrieveProductRecommendations",domain:this.domain,data:a};return d(b)},retrieveShoppingCart:function(a){var b={method:"RetrieveShoppingCart",domain:this.domain,data:a};return d(b)},searchFavoriteProducts:function(a){var b={method:"SearchFavoriteProducts",domain:this.domain,data:a};return d(b)},searchOrders:function(a){var b={method:"SearchOrders",domain:this.domain,data:a};return d(b)},searchProducts:function(a){var b={method:"SearchProducts",domain:this.domain,data:a};return d(b)},searchProductsByCoupon:function(a){var b={method:"SearchProductsByCoupon",domain:this.domain,data:a};return d(b)},searchQueuedProducts:function(a){var b={method:"SearchQueuedProducts",domain:this.domain,data:a};return d(b)},searchWishlists:function(a){var b={method:"SearchWishlists",domain:this.domain,data:a};return d(b)},searchWishlistProducts:function(a){var b={method:"SearchWishlistProducts",domain:this.domain,data:a};return d(b)},submitAnonymousOrder:function(a){var b={method:"SubmitAnonymousOrder",domain:this.domain,data:a};return d(b)},submitGiftOrder:function(a){var b={method:"SubmitGiftOrder",domain:this.domain,data:a};return d(b)},submitGiftRedemptionOrder:function(a){var b={method:"SubmitGiftRedemptionOrder",domain:this.domain,data:a};return d(b)},submitModifyOrder:function(a){var b={method:"SubmitModifyOrder",domain:this.domain,data:a};return d(b)},submitAnonymousGiftOrder:function(a){var b={method:"SubmitAnonymousGiftOrder",domain:this.domain,data:a};return d(b)},submitOrder:function(a){var b={method:"SubmitOrder",domain:this.domain,data:a};return d(b)},submitRemoveOrder:function(a){var b={method:"SubmitRemoveOrder",domain:this.domain,data:a};return d(b)},submitRenewOrder:function(a){var b={method:"SubmitRenewOrder",domain:this.domain,data:a};return d(b)},submitRestoreOrder:function(a){var b={method:"SubmitRestoreOrder",domain:this.domain,data:a};return d(b)},submitSupportEmail:function(a){var b={method:"SubmitSupportEmail",domain:this.domain,data:a};return d(b)},submitUpgradeOrder:function(a){var b={method:"SubmitUpgradeOrder",domain:this.domain,data:a};return d(b)},updateShoppingCart:function(a){var b={method:"UpdateShoppingCart",domain:this.domain,data:a};return d(b)},updateWishlist:function(a){var b={method:"UpdateWishlist",domain:this.domain,data:a};return d(b)},updateWishlistProducts:function(a){var b={method:"UpdateWishlistProducts",domain:this.domain,data:a};return d(b)}}},{"./ajaxWrapper.js":1}],23:[function(a,b,c){"use strict";var d=a("./ajaxWrapper.js");b.exports={domain:"Subscriber",chargePaymentInstrument:function(a){var b={method:"ChargePaymentInstrument",domain:this.domain,data:a};return d(b)},completeOrderPayment:function(a){var b={method:"CompleteOrderPayment",domain:this.domain,data:a};return d(b)},createPaymentInstrument:function(a){var b={method:"CreatePaymentInstrument",domain:this.domain,data:a};return d(b)},removePaymentInstrument:function(a){var b={method:"RemovePaymentInstrument",domain:this.domain,data:a};return d(b)},retrievePayPalToken:function(){var a={method:"RetrievePayPalToken",domain:this.domain};return d(a)},retrievePaymentInstrument:function(a){var b={method:"RetrievePaymentInstrument",domain:this.domain,data:a};return d(b)},searchTransactions:function(a){var b={method:"SearchTransactions ",domain:this.domain,data:a};return d(b)},updatePaymentInstrument:function(a){var b={method:"UpdatePaymentInstrument",domain:this.domain,data:a};return d(b)},validatePaymentInstrument:function(a){var b={method:"ValidatePaymentInstrument",domain:this.domain,data:a};return d(b)},retrieveWallet:function(a){var b={method:"RetrieveWallet",domain:this.domain,data:a};return d(b)}}},{"./ajaxWrapper.js":1}],24:[function(a,b,c){"use strict";var d=a("./ajaxWrapper.js");b.exports={domain:"Subscriber",activateDiscounts:function(a){var b={method:"ActivateDiscounts",domain:this.domain,data:a};return d(b)},applyCoupon:function(a){var b={method:"ApplyCoupon",domain:this.domain,data:a};return d(b)},redeemGiftCard:function(a){var b={method:"RedeemGiftCard",domain:this.domain,data:a};return d(b)},retrieveCouponStatistics:function(a){var b={method:"RetrieveCouponStatistics",domain:this.domain,data:a};return d(b)},searchRedemptionCodes:function(a){var b={method:"SearchRedemptionCodes",domain:this.domain,data:a};return d(b)}}},{"./ajaxWrapper.js":1}],25:[function(a,b,c){(function(c){"use strict";var d="undefined"!=typeof window?window.$:"undefined"!=typeof c?c.$:null,e=a("./ajaxWrapper.js"),f=a("./metadata.js"),g=a("./fault.js");b.exports={domain:"Subscriber",createExternalAuthorizations:function(a){var b={method:"CreateExternalAuthorizations",domain:this.domain,data:a};return e(b)},createHousehold:function(a){var b={method:"CreateHousehold",domain:this.domain,data:a};return e(b)},retrieveOffering:function(a){var b={method:"RetrieveOffering",domain:this.domain,data:{Id:a}};return e(b)},retrieveSubscriber:function(){var a={method:"RetrieveSubscriber",domain:this.domain};return e(a)},retrieveSubscriberContext:function(){var a={method:"RetrieveSubscriberContext",domain:this.domain};return e(a)},retrieveSubscription:function(a){var b={method:"RetrieveSubscription",
domain:this.domain,data:a};return e(b)},removeContentViews:function(a){var b={method:"RemoveContentViews",domain:this.domain,data:a};return e(b)},removeHousehold:function(a){var b={method:"RemoveHousehold",domain:this.domain,data:a};return e(b)},retrieveCategoryContext:function(){var a={method:"RetrieveCategoryContext",domain:this.domain};return e(a)},retrieveCategoriesForCategoryContext:function(a){var b=this,c=d.Deferred(),e={categories:[]},h=[],i=[],j=[];return j.push(b.retrieveCategoryContext()),j.push(f.categories(a)),d.when.apply(null,j).done(function(){if(d.each(arguments,function(a,b){0===a?h=b[0].NonQualifiedCategoryIds:1===a&&(i=b[0].Categories)}),void 0!==h&&h.length>0&&void 0!==i&&i.length>0){for(var a=i,b=0,f=h.length;f>b;b+=1)for(var j=0,k=a.length;k>j;j+=1)if(a[j].Id===h[b])a.splice(j,1);else if(void 0!==a[j].Children&&a[j].Children.length>0)for(var l=0,m=a[j].Children.length;m>l;l+=1)a[j].Children[l].Id===h[b]&&a[j].Children.splice(l,1);void 0!==a&&a.length>0?(e.categories=a,c.resolve(e)):c.reject(g.getFault("subscriberNoCategoriesForContext"))}else void 0!==h&&0===h.length&&void 0!==i&&i.length>0?(e.categories=i,c.resolve(e)):c.reject(g.getFault("systemError"))}).fail(function(){c.reject(g.getFault("systemError"))}),c.promise()},retrieveHouseholds:function(a){var b={method:"RetrieveHouseholds",domain:this.domain,data:a};return e(b)},retrievePersonContext:function(a){var b={method:"RetrievePersonContext",domain:this.domain,data:a};return e(b)},retrievePlaylistContext:function(a){var b={method:"RetrievePlaylistContext",domain:this.domain,data:a};return e(b)},searchContentViews:function(a){var b={method:"SearchContentViews",domain:this.domain,data:a};return e(b)},searchOfferings:function(a){var b={method:"SearchOfferings",domain:this.domain,data:a};return e(b)},searchPersons:function(a){var b={method:"SearchPersons",domain:this.domain,data:a};return e(b)},searchSubscriptions:function(a){var b={method:"SearchSubscriptions",domain:this.domain,data:a};return e(b)},updateSubscriber:function(a){var b={method:"UpdateSubscriber",domain:this.domain,data:a};return e(b)},updateSubscription:function(a){var b={method:"UpdateSubscription",domain:this.domain,data:a};return e(b)}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./ajaxWrapper.js":1,"./fault.js":5,"./metadata.js":6}],26:[function(a,b,c){(function(a){"use strict";var c="undefined"!=typeof window?window.$:"undefined"!=typeof a?a.$:null;b.exports={domain:"Utility",filterBuckets:function(a,b){return c.grep(a,function(a){return-1===b.indexOf(a.CategoryId)})},filterBucketProducts:function(a,b){var d=a;return c.each(a,function(d){var e=a[d];e.Products&&e.Products.length>0&&(e.Products=c.grep(e.Products,function(a){return-1===b.indexOf(a)}))}),d},filterFeaturedItems:function(a,b){return c.grep(a,function(a){return-1===b.indexOf(a.ProductId)})},retrieveQualifiedStorefrontPageId:function(a,b){var c=a;return-1===b.indexOf(a)&&(c=b[0]),c}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[2])(2)});